<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Sprint Release Steps</title>
  <link rev="made" href="mailto:greg_trihus@sil.org" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="author" content="Greg Trihus" />
  <meta name="description" content="list of steps to do a sprint release" />
  <meta name="keywords" content="team city, " />
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<h1>Pathway Sprint Release Steps</h1>

<ol>
  <li>Make sure Debug build works and tests pass on Team City</li>
  <li>Make sure CorporateBTE7 build works and install it and run through at least one test pass</li>
  <li>Find the last sprint in git gui history</li>
  <li>Use git bash <code>git log --since="8 Nov 2013" >sprint-1.1.1.txt</code> (where date is replaced with the date of the change and 1.1.1 is the version).</li>
  <li>From git gui, use Tools, Version</li>
  <li>Create the corresponding sprint-1.1.1.xml by exporting the Jira rss xml feed of issues updated since last sprint release date.</li>
  <li>Drop sprint-1.1.1.txt onto SprintIssues.py. Then edit sprint-1.1.1.htm to create a list of issues for the post and to update the readme file.</li>
  <li>Create sprint-1.1.1.log in format needed for Linux</li>
  <li>Copy sprint-1.1.1.log to onedrive</li>
  <li>Download sprint-1.1.1.log from linux machine and update debian/changelog and check it in</li>
  <li>switch back to Windows machine</li>
  <li>from git bash use> git flow release start 1.1.1</li>
  <li>Update the Installer/ReadmePw.rtf file with the new version # and list of changes</li>
  <li>Update Installer/Installer.csproj with new version #. Minimal change in 2nd # for auto upgrades.</li>
  <li><code>PathwaySprint.bat 1.1.1.2124</code> where 1.1.1.2124 is replaced by current version number</li>
  <li>Rename Sprint folder and move to Releases folder as a subfolder (ex. Sprint-1.1.1.2124)</li>
  <li>Uninstall any old versions and install SetupPw7BTE-1.1.1.2124.msi and make sure default export works.</li>
  <li>Check version numbers of third party software in PathwayBootstrap.ini</li>
  <li>check in changes with git gui</li>
  <li>git flow release finish 1.1.1</li>
  <li>git push origin master develop</li>
  <li>Update the version number in Team city <a href="http://build.palaso.org/admin/editBuild.html?id=buildType:bt75" target="_blank">daily</a> and <a href="http://build.palaso.org/admin/editBuild.html?id=buildType:bt84" target="_blank">sprint</a> build configuration. (Also update version numbers for Ubuntu daily and sprint builds.</li>
  <li><a href="http://build.palaso.org/project.html?projectId=project18" target="_blank">Launch Team City</a> Sprint Build. (Also Ubuntu 32 and Ubuntu 64 builds.)</li>
  <li>Download artifacts and use fciv (console tool) to calculate the checksum for the new bootstrap program.</li>
  <li>Change the first page of <a href="http://pathway.sil.org/wp-admin/edit.php?post_type=page" target="_blank">pathway.sil.org</a> to reference this new bootstrap program google code link.</li>
  <li>Change the <a href="http://pathway.sil.org/wp-admin/post.php?post=465&action=edit" target="_blank">latest sprint download</a> page.</li>
  <li><a href="http://pathway.sil.org/wp-admin/post-new.php?post_type=post" target="_blank">Add a "Release" post</a> to pathway.sil.org web site with the list of changes and a link to the sprint build page. (The "Release" category is checked before the post is added. This will add the post to the Release feed that is picked up by lingtransoft.info and perhaps others.)</li>
  <li>Save download statistics from <a href="http://pathway.sil.org/wp-admin/tools.php?page=simple-download-monitor.php" target="_blank">Download monitor and reset statistics</a></li>
  <li>Update the <a href="http://pathway.sil.org/download/installing-offline/" target="_blank">offline installation instructions</a> with the link to the latest <a href="http://build.palaso.org/viewType.html?buildTypeId=bt84" target="_blank">Pathway Bootstrap</a> and the latest <a href="file://c:/Users/Trihus/git/pathway/pathway/Bootstrap/res/PathwayBootstrap.ini" target="_blank">.ini file</a>.</li>
  <li><a href="http://pathway.sil.org/wp-admin/export.php" target="_blank">Back up</a> the pathway.sil.org web site.</li>
  <li>Mark previous release downloads as deprecated.</li>
  <li>Update <a href="http://lingtransoft.info" target="_blank">lingtransoft.info</a></li>
  <li>Jira update: add completed issues to sprint, move uncompleted to new sprint, mark sprint as released</li>
  <li>Review <a href="http://myphpapps.com.cws10.my-hosting-panel.com/getdata.php" target="_blank">usage data</a></li>
</ol>

<hr/>
<p><small>Created on ... June 22, 2011</small></p>
</body>
</html>
