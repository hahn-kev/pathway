<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Sprint Release Steps</title>
  <link rev="made" href="mailto:greg_trihus@sil.org" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="author" content="Greg Trihus" />
  <meta name="description" content="list of steps to do a sprint release" />
  <meta name="keywords" content="team city, " />
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<h1>Pathway Sprint Release Steps</h1>

<ol>
  <li>Make sure Debug build works and tests pass</li>
  <li>Make sure CorporateBTE7 build works and install it and run through at least one test pass</li>
  <li>Find the svn <a href="http://code.google.com/p/pathway/source/browse/trunk/pathway/CssDialog/Properties/AssemblyInfo.cs" target="_blank">checkin number</a> of the last sprint</li>
  <li>Copy issues from svn log into a text file and process with SprintIssues.py. Then edit to create a list of issues for the post and to update the readme file.</li>
  <li>Update the BuildPathway/ReadmePw.rtf file with the new version # and list of changes</li>
  <li>Update BuildPathway/BuildPathway.csproj and BuildPathway60.csproj with new version #</li>
  <li>Update the version number in Team city <a href="http://build.palaso.org/admin/editBuild.html?id=buildType:bt75" target="_blank">daily</a> and <a href="http://build.palaso.org/admin/editBuild.html?id=buildType:bt84" target="_blank">sprint</a> build configuration</li>
  <li><a href="http://build.palaso.org/project.html?projectId=project18" target="_blank">Launch Team City</a> Sprint Build</li>
  <li>Examine the <a href="http://build.palaso.org/viewType.html?buildTypeId=bt84&tab=buildTypeStatusDiv" target=_blank">artifacts</a>. Edit the URLs on the pathway.sil.org sprint download page so they will download the artifacts.</li>
  <li><a href="http://pathway.sil.org/wp-admin/post-new.php?post_type=post" target="_blank">Add a post</a> to pathway.sil.org web site with the list of changes and a link to the sprint build page.</li>
  <li>Mark the post of the last step category as "Release" so it is picked up by lingtransoft.info</li>
  <li>Save download statistics from <a href="http://pathway.sil.org/wp-admin/tools.php?page=simple-download-monitor.php" target="_blank">Download monitor and reset statistics</a></li>
  <li>Jira update: add completed issues to sprint, move uncompleted to new sprint, mark sprint as released</li>
</ol>

<p>Instead of launching the Team city build, you can also build locally and post to the pathway.sil.org web site.</p>

<ol>
<li>Use Visual Studio to do a Debug build of Pathway. This creates BuildTasks.dll</li>
<li>From the command prompt at the root of your local copy of the svn type:<br/>
<code>PathwaySprint</code></br>
This command sets up the path so that msbuild for dot net 3.5 is used.</li>
<li>Then type:<br/>
<code>msbuild BuildPathwaySprint.csproj /p:BUILD_NUMBER=x.x.x.x</code><br/>
where x.x.x.x is replaced with the version number (0.7.5.1289 for example).</li>
<li>Use ftp to transfer the .msi files in the sprint folder to the wp-content/sprint folder on the web site.<br/>
(The latest sprint build page on the site currently points to these download packages.)</li>
<li>Update http://pathway.sil.org/download/latest-sprint-downloads/ with the latest version number and date</li>
<hr />
<p><small>Created on ... June 22, 2011</small></p>
</body>
</html>
